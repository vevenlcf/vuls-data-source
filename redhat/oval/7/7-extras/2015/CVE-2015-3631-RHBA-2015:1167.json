{
  "id": "CVE-2015-3631",
  "rhsa_id": "RHBA-2015:1167",
  "definition_id": "oval:com.redhat.rhba:def:20151167",
  "title": "RHBA-2015:1167: docker bug fix update (Moderate)",
  "description": "Docker is an open-source engine that automates the deployment of any application as a lightweight, portable, self-sufficient container that will run virtually anywhere.\n\nThis update fixes the following bugs:\n\n* Previously, if you had one image tagged in at least two repositories, running the \"docker rmi ID\" command untagged the image from just one repository and the other persisted. This bug has been fixed and \"docker rmi ID\" now untags all associated images. (BZ#1222784)\n\n* Previously, the docker service did not try to match short names against local fully qualified images names while doing a push. As a consequence, the push command reported that the image name could not be found and the user had to fully qualify the argument and execute the push again. This bug has been fixed and the docker service now tries to match short names against local images fully qualified with the default registry (those added with the \"--add-registry flag\"). Now, the user does not have to fully qualify the image name in order to push it to one of the default registries. (BZ#1218639)\n\n* During initialization of both the Docker client and daemon, the public Docker registry was resolved, in order to check whether it was secured or not. This happened regardless of the docker.io registry being blocked. Consequently, docker was attempting to resolve docker.io to an IP address any time a Docker client was run. This prolonged commands execution in environments without external DNS lookups. After this update, docker no longer checks whether the public Docker index is secure. As a result, no DNS lookups for docker.io are done unless a public Docker registry is enabled and a pull, push, or search operation is performed on it. (BZ#1224387)\n\n* The default handling of SELinux labeling did not work correctly and the docker service was unable to mount certain directories into containers. This bug has been fixed and mounting a directory into a container now executes successfully. (BZ#1209625)\n\n* Previously, the docker service was labeling shared volumes as private by default. As a consequence, other containers could not execute the content from them. With this update, the underlying source code has been fixed to label shared volumes correctly. As a result, shared volumes now work correctly with SELinux in enforcing mode. (BZ#1226320, BZ#1225549)\n\n* If a volume was specified with more than one object, the docker service did not perform relabeling. As a consequence, you could not, for example, mount a volume that is both read-only and needs relabeling at the same time. The labeling check has been fixed, and docker now relabels correctly in the described scenario. (BZ#1225556)\n\n* Previously, the docker service and SELinux were blocking relabels of the /usr directory, even if the user did not request relabeling. As a consequence, certain volume mounts of content in /usr were blocked and a container could not run. The check on relabeling has been fixed and volumes in /usr can now be mounted into a container successfully. (BZ#1230192)\n\nUsers of docker are advised to upgrade to these updated packages, which fix these bugs.",
  "cvss2": "4.3/AV:N/AC:M/Au:N/C:N/I:P/A:N",
  "cwe": "CWE-642",
  "severity": "Moderate",
  "impact": "moderate",
  "affected": {
    "family": "unix",
    "platforms": [
      "Red Hat Enterprise Linux 7 Extras"
    ],
    "cpes": [
      {
        "cpe": "cpe:/a:redhat:rhel_extras_other:7",
        "repository": [
          "rhel-7-for-power-9-extras-debug-rpms",
          "rhel-7-workstation-extras-source-rpms",
          "rhel-7-desktop-extras-debug-rpms",
          "rhel-7-for-system-z-a-extras-rpms",
          "rhel-7-for-arm-64-extras-rpms",
          "rhel-7-for-system-z-extras-debug-rpms",
          "rhel-7-for-power-9-extras-rpms",
          "rhel-7-server-extras-debug-rpms",
          "rhel-7-for-arm-64-extras-debug-rpms",
          "rhel-7-for-power-le-extras-source-rpms",
          "rhel-7-workstation-extras-rpms",
          "rhel-7-for-system-z-extras-rpms",
          "rhel-7-server-extras-rpms",
          "rhel-7-desktop-extras-rpms",
          "rhel-7-for-power-le-extras-debug-rpms",
          "rhel-7-workstation-extras-debug-rpms",
          "rhel-7-for-system-z-extras-source-rpms",
          "rhel-7-for-arm-64-extras-source-rpms",
          "rhel-7-desktop-extras-source-rpms",
          "rhel-7-for-system-z-a-extras-source-rpms",
          "rhel-7-for-power-le-extras-rpms",
          "rhel-7-for-system-z-a-extras-debug-rpms",
          "rhel-7-for-power-9-extras-source-rpms",
          "rhel-7-server-extras-source-rpms"
        ]
      }
    ]
  },
  "packages": [
    {
      "name": "docker-logrotate",
      "status": "Fixed",
      "fixed_version": "0:1.6.2-14.el7",
      "arch": "x86_64"
    },
    {
      "name": "docker-python",
      "status": "Fixed",
      "fixed_version": "0:1.0.0-53.el7",
      "arch": "x86_64"
    },
    {
      "name": "docker-selinux",
      "status": "Fixed",
      "fixed_version": "0:1.6.2-14.el7",
      "arch": "x86_64"
    },
    {
      "name": "python-websocket-client",
      "status": "Fixed",
      "fixed_version": "0:0.14.1-97.el7"
    },
    {
      "name": "atomic",
      "status": "Fixed",
      "fixed_version": "0:0-0.40.gitf863afd.el7",
      "arch": "x86_64"
    },
    {
      "name": "docker",
      "status": "Fixed",
      "fixed_version": "0:1.6.2-14.el7",
      "arch": "x86_64"
    }
  ],
  "references": [
    {
      "id": "RHBA-2015:1167",
      "source": "RHSA",
      "url": "https://access.redhat.com/errata/RHBA-2015:1167"
    },
    {
      "id": "CVE-2015-3627",
      "source": "CVE",
      "url": "https://access.redhat.com/security/cve/CVE-2015-3627"
    },
    {
      "id": "CVE-2015-3629",
      "source": "CVE",
      "url": "https://access.redhat.com/security/cve/CVE-2015-3629"
    },
    {
      "id": "CVE-2015-3630",
      "source": "CVE",
      "url": "https://access.redhat.com/security/cve/CVE-2015-3630"
    },
    {
      "id": "CVE-2015-3631",
      "source": "CVE",
      "url": "https://access.redhat.com/security/cve/CVE-2015-3631"
    },
    {
      "id": "CVE-2015-3629 docker: symlink traversal on container respawn allows local privilege escalation",
      "source": "BUG",
      "url": "https://bugzilla.redhat.com/1219058"
    },
    {
      "id": "CVE-2015-3627 docker: insecure opening of file-descriptor 1 leading to privilege escalation",
      "source": "BUG",
      "url": "https://bugzilla.redhat.com/1219061"
    },
    {
      "id": "CVE-2015-3630 docker: Read/write proc paths allow host modification \u0026 information disclosure",
      "source": "BUG",
      "url": "https://bugzilla.redhat.com/1219063"
    },
    {
      "id": "CVE-2015-3631 docker: volume mounts allow LSM profile escalation",
      "source": "BUG",
      "url": "https://bugzilla.redhat.com/1219065"
    }
  ],
  "public": "2015-05-07T00:00:00Z",
  "issued": "2015-06-23T00:00:00Z",
  "updated": "2015-06-23T00:00:00Z"
}
